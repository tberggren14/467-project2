<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Order fullfillment</title>
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>

  <script>
    function fulfill(orderid) {
      axios.post("http://localhost:3000/updatestatus", {
        orderid: orderid,
      });
      alert("Order " + orderid + " has been fulfilled ");
      location.reload(true);
    }
  </script>

  <body>
    <div class="nav-bar">
      <li class="banner">Automotive parts store</li>
      </a>
      <a href="/index">
        <li class="item">Home</li>
      </a>
    </div>

    <h3>Order List</h3>

    <il>
      <% for (order in all) { %>
        <div class="part">
      <li>
        <button onclick="fulfill(<%= all[order].orderid %>)">
          Fulfill Order
        </button>
          <br> Order id: <%= all[order].orderid %> <br> Name: <%= all[order].name %> <br> Email: <%= all[order].email
        %> <br> Address: <%= all[order].address %> <br> Shipping and Handling: <%= all[order].shipandhandle %> <br>  Price: $<%=
        all[order].price %> <br>  Weight: <%= all[order].weight %>lbs <br> Order Date: <%=
        all[order].timeoforder %>
      </li>
      </div>
      <% }; %>
    </il>
  
  </body>
</html>
